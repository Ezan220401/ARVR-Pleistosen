<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pleistosen AR Scan</title>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

    <style>
      .arjs-loader {
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .arjs-loader div {
        text-align: center;
        font-size: 1.25em;
        color: white;
      }
    </style>
  </head>
  <body>

    <!-- Aset -->
    <a-assets>
      <a-asset-item id="mastodon"src="./src/mastodon/scene.gltf"></a-asset-item>
      <a-asset-item id="teratorn" src="./src/teratorn/scene.gltf"></a-asset-item>
      <a-asset-item id="smilodon" src="./src/smilodon/scene.gltf"></a-asset-item>
      <a-asset-item id="bear" src="./src/arctodus/scene.gltf"></a-asset-item>
      <a-asset-item id="sloth" src="./src/paramylodon/scene.gltf"></a-asset-item>

      <a-mixin id="walking-mastodon" animation-mixer="clip: Mastodon_Walk;"></a-mixin>
      <a-mixin id="walking-bear" animation-mixer="clip: ShortFacedBear_Walk;"></a-mixin>
      <a-mixin id="walking-smilodon" animation-mixer="clip: Sabertooth_Walk Cycle;"></a-mixin>
      <a-mixin id="flying-teratorn" animation-mixer="clip: Teratorn_Selection-Flying;"></a-mixin>
      <a-mixin id="walking-sloth" animation-mixer="clip: Harlans_Ground_Sloth_Walk;"></a-mixin>
    </a-assets>
    
    <!-- Scan -->
    <a-scene
      vr-mode-ui="enabled: false;"
      renderer="logarithmicDepthBuffer: true;"
      embedded
      arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;">
      <a-nft
        type="nft"
        url="https://static.wikia.nocookie.net/scratchpadvideo/images/b/b7/Paramylodon.webp/revision/latest?cb=20231020045857"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5">
          <a-entity rotation="0 90 0" position="0 0 0" scale="0.5 0.5 0.5" gltf-model="#sloth" animation-mixer mixin="walking-sloth"></a-entity>
          </a-entity>
      </a-nft>
      <a-entity camera></a-entity>
    </a-scene>

  </body>
</html>